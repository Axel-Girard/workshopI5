var vivocha=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n=window.webpackJsonpvivocha;window.webpackJsonpvivocha=function(r,i){for(var s,a,c=0,u=[];c<r.length;c++)a=r[c],o[a]&&u.push.apply(u,o[a]),o[a]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);for(n&&n(r,i);u.length;)u.shift().call(null,t)};var r={},o={15:0};return t.e=function(e,n){if(0===o[e])return n.call(null,t);if(void 0!==o[e])o[e].push(n);else{o[e]=[n];var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=t.p+"./"+({0:"js/jquery",1:"js/json3",2:"js/fetch",3:"js/form-sharing",4:"js/crypto",5:"js/webrtc",7:"js/vivocha_ext",8:"js/userclient",18:"js/vivocha_api"}[e]||e)+".js",r.appendChild(i)}},t.m=e,t.c=r,t.p="",t(0)}([function(e,t,n){"use strict";var r=e.exports=n(141),o=n(5)("vvc-page");if(!r.config&&!r.config.acct_id)throw new Error("Unable to get the account");"undefined"!==document.documentMode&&document.documentMode<7&&r.console.warn("documentMode:"+document.documentMode),r.intoad=function(){var e=!1;try{var t=parent.document!=document;if(t)for(var n=parent.document.getElementsByTagName("iframe"),r=0;r<n.length;r++)if("customer_location"==n[r].name&&n[r].className.indexOf("remote")!==-1&&n[r].className.indexOf("location")!==-1){e=!0;break}}catch(t){e=!0}return e}(),r.intoad||window.vivochaDisabled||window.__surfly||r.ready().then(function(){r.rcookie("vp").then(function(e){e=parseInt(e||0,10),r.rcookie("vp",++e,{})}),r.rcookie("contact").then(function(e){if(e&&e.id&&"contactSync"===r.dot(e,"widget.serv_id"))n.e(0,function(){n.e(7,function(t){n(71),r.resumeContact(e.id,{},function(e,t){r.events.emit("contactSync"),r.contact.on("localleft",function(){r.rcookie("contact",null,{})})})})});else if(e&&e.id&&r.dot(e,"widget.serv_id"))r.console.log("loading persistent media"),r.loadService(r.dot(e,"widget.serv_id"));else{r.rcookie("contact",null,{});var t;if(location.hash){var o=location.hash.match(/.*#([0-9]{6})$/);o&&o[1]&&(t=o[1],n.e(0,function(){n.e(7,function(e){n(71),r.syncContact(t,{},function(e,t){e?(r.console.error(e),r.loadService()):(r.events.emit("contactSync"),r.contact.on("left",function(){r.rcookie("contact",null,{})}),location.hash=location.hash.slice(0,-7),r.console.log(t))})})}))}t||r.loadService()}},function(e){o.error("cookie contact error",e)})}),r.flushReadyHandlers()},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(42)("wks"),o=n(29),i=n(4).Symbol,s="function"==typeof i,a=e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))};a.store=r},function(e,t,n){"use strict";n.p="//d3btqb6knwd3a4.cloudfront.net/w/n1/319/";var r=n(69);window.JSON&&window.JSON.parse&&r(window.JSON.parse)&&window.JSON.stringify&&r(window.JSON.stringify)&&"undefined"==typeof Array.prototype.toJSON?e.exports=window.JSON:n.e(1,function(t){var r=n(47);e.exports=r.noConflict()})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(50),i=r(o),s=n(6),a=r(s),c=n(129),u={};e.exports=function(e){u[e]=!0;var t={log:c(e+":log"),debug:c(e+":debug"),info:c(e+":info"),warn:c(e+":warn"),error:c(e+":error")};if("object"===("undefined"==typeof window?"undefined":(0,a.default)(window))&&"object"===(0,a.default)(window.console))try{t.info.log=console.info.bind(console),t.warn.log=console.warn.bind(console),t.error.log=console.error.bind(console),console.debug&&(t.debug.log=console.debug.bind(console))}catch(e){}return t},e.exports.namespaces=function(){return(0,i.default)(u)},e.exports.cb=function(){console.log.apply(console,arguments)},e.exports.promise=function(e){e.then(function(e){console.log(e)},function(e){console.error(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(85),i=r(o),s=n(84),a=r(s),c="function"==typeof a.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};t.default="function"==typeof a.default&&"symbol"===c(i.default)?function(e){return"undefined"==typeof e?"undefined":c(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":"undefined"==typeof e?"undefined":c(e)}},function(e,t,n){var r=n(16);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(22)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(11),o=n(27);e.exports=n(8)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(7),o=n(54),i=n(44),s=Object.defineProperty;t.f=n(8)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(100),o=n(36);e.exports=function(e){return r(o(e))}},function(e,t,n){e.exports={default:n(91),__esModule:!0}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(4),o=n(1),i=n(21),s=n(10),a="prototype",c=function(e,t,n){var u,f,l,d=e&c.F,p=e&c.G,v=e&c.S,h=e&c.P,m=e&c.B,g=e&c.W,y=p?o:o[t]||(o[t]={}),w=y[a],_=p?r:v?r[t]:(r[t]||{})[a];p&&(n=t);for(u in n)f=!d&&_&&void 0!==_[u],f&&u in y||(l=f?_[u]:n[u],y[u]=p&&"function"!=typeof _[u]?n[u]:m&&f?i(l,r):g&&_[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[a]=e[a],t}(l):h&&"function"==typeof l?i(Function.call,l):l,h&&((y.virtual||(y.virtual={}))[u]=l,e&c.R&&w&&!w[u]&&s(w,u,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports={default:n(86),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.match(/\/a\/(\w*)\/(api|apps|widgetwrap|js)\/(console\/)?(vivocha|dataframe|vivocha_app.js)?/);if(n&&n.length>1&&"_"!==n[1]){var r=document.createElement("a");return r.setAttribute("href",e),t.apihost="n1.vivocha.com",t.acct_id=n[1],t.apiurl=u+"//"+t.apihost+"/a/"+t.acct_id+"/api/",t.sapiurl="https://"+t.apihost+"/a/"+t.acct_id+"/api/",t.liburl="//d3btqb6knwd3a4.cloudfront.net/w/n1/319/",n[3]?(t.apiurl=t.apiurl+"_/",t.sapiurl=t.sapiurl+"_/"):t.gifurl=t.apiurl+"vvct.gif",!0}}var i=n(6),s=r(i);n.p="//d3btqb6knwd3a4.cloudfront.net/w/n1/319/";var a=e.exports={},c="undefined"!=typeof window.vvc_options?window.vvc_options:{},u=c.secure?"https:":"";n(34).then(function(){var e=n(5);a.debug=e,a.console=e("vvc-core"),a.namespaces=e.namespaces,a.log=a.console.log}),a.scriptParentNode=document.body,a.nodeify=function(e,t){return"function"==typeof e.then&&"function"!=typeof e.nodeify&&(e.nodeify=function(e){return e?void this.then(function(t){var n=Array.prototype.slice.call(arguments);n.unshift(void 0),e.apply(this,n)},function(t){e(t)}):this}),t&&e.nodeify(t),e},a.ready=function(){return n(34)},a.dot=function(e,t,n,r){if(e){var o,i=t?t.split("."):[],a=e;if("undefined"==typeof n){for(var c=0,u=i.length;"undefined"!=typeof a&&c<u;c++)try{o=a,a=a[i[c]]}catch(e){return}a&&r&&delete o[i[c-1]]}else{for(var c=0,u=i.length-1,f=null;f=i[c],c<u;c++)"object"!==(0,s.default)(a[f])&&(a[f]=parseInt(i[c+1])||0==i[c+1]?[]:{}),a=a[f];a[f]=n,a=a[f]}return a}},a.query=function(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var o=t[r].split("=");n[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return n},a.config=function(){for(var e,t={ajv:319,ver:11,version:"5.2",versionfull:"5.2.19",world:"n1",domain:".vivocha.com"},n=document.getElementsByTagName("script"),r=0;n&&r<n.length;r++)o(n[r].src,t)&&(n[r].parentNode.tagName&&"HEAD"!==n[r].parentNode.tagName?a.scriptParentNode=n[r].parentNode:a.scriptParentNode=document.body,e=!0);return e||o(location.href,t),t}(),a.extend=function(e,t){if(arguments.length>2)for(var n=1;n<arguments.length;n++)a.extend(e,arguments[n]);else{var r;for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}return e},a.param=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]));return n.join("&")},a.cookie=function(e,t,n){if(arguments.length>1&&"[object Object]"!==String(t)){if(n=a.extend(n),"undefined"==typeof n.domain&&"undefined"!=typeof a.domain&&(n.domain=a.domain),null!==t&&void 0!==t||(n.expires=-1),"number"==typeof n.expires){var r=n.expires,o=n.expires=new Date;o.setDate(o.getDate()+r)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=t||{};var i,s=n.raw?function(e){return e}:decodeURIComponent;return i=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie),i?s(i[1]):null},a.ws=function(e,t,r,o,i){n.e(0,function(s){var c=n(30);"function"==typeof r||"undefined"==typeof r?(i=r,o="GET",r={}):"function"!=typeof o&&"undefined"!=typeof o||(i=o,o="GET"),i=i||function(){};var u=null,f={url:a.config.sapiurl+(e?e+"/":"")+(t?t+"/":""),data:r,success:function(e){e.ts&&(a.serverTimeDiff=+new Date(e.ts)-+new Date),e.acct_id&&(a.acct_id=e.acct_id),e.user_id&&(a.user_id=e.user_id),e.result||e.event?i(null,e):i(e||{},null)},error:function(e){i(e,null)},timeout:0};"POST"===o?(u=c.ajax,f.type="POST",f.xhrFields={withCredentials:!0}):(u=c.jsonp||c.ajax,f.dataType="jsonp",f.callbackParameter="callback"),u(f)})},a.ws_new=function(e,t,n,r){var o=a.config.sapiurl+(e?e+"/":"")+(t?t+"/":""),i=[];for(var s in n)i.push(s+"="+encodeURIComponent(n[s]));return i=i.join("&"),i&&(o+="?"+i),fetch(o,r).then(function(e){if(200===e.status)return e.json();throw new Error(e.statusText)}).then(function(e){if(e.ts&&(a.serverTimeDiff=+new Date(e.ts)-+new Date),e.acct_id&&(a.acct_id=e.acct_id),e.user_id&&(a.user_id=e.user_id),200===e.status||e.result===!0)return e;throw new Error(e.error||"error")})},a.isMobile=function(){var e="undefined"!=typeof navigator?navigator.userAgent:"",t=new RegExp(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|silk|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i),n=new RegExp(/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i);return!(!t.test(e)&&!n.test(e.substr(0,4)))},a.canShareDOM=function(){return!0},a.probeBaseCaps=function(){var e={Media:{},Mobile:a.isMobile(),CoBrowsing:a.canShareDOM()};return e},a.flushReadyHandlers=function(){if(window.vvc_ready_handlers){for(var e;e=window.vvc_ready_handlers.shift();)a.ready(e);delete window.vvc_ready_handlers}}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),u=n.slice(),o=u.length,c=0;c<o;c++)u[c].apply(this,a);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(35);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,n){var r=n(60),o=n(38);e.exports=Object.keys||function(e){return r(e,o)}},,function(e,t){e.exports=!0},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(11).f,o=n(9),i=n(2)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},,function(e,t,n){function r(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){o<16&&(t[r+o++]=u[e])});o<16;)t[r+o++]=0;return t}function o(e,t){var n=t||0,r=c;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function i(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var s=void 0!==e.clockseq?e.clockseq:p,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:h+1,u=a-v+(c-h)/1e4;if(u<0&&void 0===e.clockseq&&(s=s+1&16383),(u<0||a>v)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=a,h=c,p=s,a+=122192928e5;var f=(1e4*(268435455&a)+c)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var l=a/4294967296*1e4&268435455;i[r++]=l>>>8&255,i[r++]=255&l,i[r++]=l>>>24&15|16,i[r++]=l>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var m=e.node||d,g=0;g<6;g++)i[r+g]=m[g];return t?t:o(i)}function s(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;s++)t[r+s]=i[s];return t||o(i)}for(var a=n(134),c=[],u={},f=0;f<256;f++)c[f]=(f+256).toString(16).substr(1),u[c[f]]=f;var l=a(),d=[1|l[0],l[1],l[2],l[3],l[4],l[5]],p=16383&(l[6]<<8|l[7]),v=0,h=0,m=s;m.v1=i,m.v4=s,m.parse=r,m.unparse=o,e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(83),i=r(o),s=n(82),a=r(s),c=n(6),u=r(c);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,u.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(6),i=r(o);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(13),i=r(o),s=n(69);Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return-1;var i=+t||0;if(Math.abs(i)===1/0&&(i=0),i>=o)return-1;for(n=Math.max(i>=0?i:o-Math.abs(i),0);n<o;){if(n in r&&r[n]===e)return n;n++}return-1}),e.exports=new i.default(function(e,t){window.JSON&&window.JSON.parse&&s(window.JSON.parse)&&window.JSON.stringify&&s(window.JSON.stringify)&&"undefined"==typeof Array.prototype.toJSON?e(!0):n.e(1,function(t){n(17).default=n(3).noConflict().stringify,e(!0)})}).then(function(){return!!window.fetch||new i.default(function(e,t){n.e(2,function(t){n(79),e(!0)})})})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(16),o=n(4).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(7),o=n(110),i=n(38),s=n(41)("IE_PROTO"),a=function(){},c="prototype",u=function(){var e,t=n(37)("iframe"),r=i.length,o="<",s=">";for(t.style.display="none",n(53).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+s+"document.F=Object"+o+"/script"+s),e.close(),u=e.F;r--;)delete u[c][i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[c]=r(e),n=new a,a[c]=null,n[s]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(42)("keys"),o=n(29);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(4),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(16);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(4),o=n(1),i=n(26),s=n(46),a=n(11).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){t.f=n(2)},,,function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function s(){h&&p&&(h=!1,p.length?v=p.concat(v):m=-1,v.length&&a())}function a(){if(!h){var e=o(s);h=!0;for(var t=v.length;t;){for(p=v,v=[];++m<t;)p&&p[m].run();m=-1,t=v.length}p=null,h=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var f,l,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var p,v=[],h=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new c(e,t)),1!==v.length||h||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){e.exports={default:n(89),__esModule:!0}},,function(e,t,n){var r=n(20),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){e.exports=n(4).document&&document.documentElement},function(e,t,n){e.exports=!n(8)&&!n(22)(function(){return 7!=Object.defineProperty(n(37)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(26),o=n(15),i=n(62),s=n(10),a=n(9),c=n(23),u=n(104),f=n(28),l=n(111),d=n(2)("iterator"),p=!([].keys&&"next"in[].keys()),v="@@iterator",h="keys",m="values",g=function(){return this};e.exports=function(e,t,n,y,w,_,b){u(n,t,y);var x,S,E,k=function(e){if(!p&&e in M)return M[e];switch(e){case h:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",O=w==m,j=!1,M=e.prototype,P=M[d]||M[v]||w&&M[w],R=P||k(w),C=w?O?k("entries"):R:void 0,L="Array"==t?M.entries||P:P;if(L&&(E=l(L.call(new e)),E!==Object.prototype&&(f(E,T,!0),r||a(E,d)||s(E,d,g))),O&&P&&P.name!==m&&(j=!0,R=function(){return P.call(this)}),r&&!b||!p&&!j&&M[d]||s(M,d,R),c[t]=R,c[T]=g,w)if(x={values:O?R:k(m),keys:_?R:k(h),entries:C},b)for(S in x)S in M||i(M,S,x[S]);else o(o.P+o.F*(p||j),t,x);return x}},function(e,t,n){var r=n(40),o=n(27),i=n(12),s=n(44),a=n(9),c=n(54),u=Object.getOwnPropertyDescriptor;t.f=n(8)?u:function(e,t){if(e=i(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(a(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(12),o=n(58).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return o(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?a(e):o(r(e))}},function(e,t,n){var r=n(60),o=n(38).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(9),o=n(12),i=n(96)(!1),s=n(41)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(15),o=n(1),i=n(22);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",s)}},function(e,t,n){e.exports=n(10)},function(e,t,n){var r,o,i,s=n(21),a=n(99),c=n(53),u=n(37),f=n(4),l=f.process,d=f.setImmediate,p=f.clearImmediate,v=f.MessageChannel,h=0,m={},g="onreadystatechange",y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},w=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++h]=function(){a("function"==typeof e?e:Function(e),t)},r(h),h},p=function(e){delete m[e]},"process"==n(20)(l)?r=function(e){l.nextTick(s(y,e,1))}:v?(o=new v,i=o.port2,o.port1.onmessage=w,r=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",w,!1)):r=g in u("script")?function(e){c.appendChild(u("script"))[g]=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(s(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(43),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(36);e.exports=function(e){return Object(r(e))}},function(e,t){},function(e,t,n){"use strict";var r=n(116)(!0);n(55)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(119);for(var r=n(4),o=n(10),i=n(23),s=n(2)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var u=a[c],f=r[u],l=f&&f.prototype;l&&!l[s]&&o(l,s,u),i[u]=i.Array}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(6),i=r(o);!function(){function t(e){var t="undefined"==typeof e?"undefined":(0,i.default)(e);return"function"==t?s.test(r.call(e)):e&&"object"==t&&o.test(n.call(e))||!1}var n=Object.prototype.toString,r=Function.prototype.toString,o=/^\[object .+?Constructor\]$/,s=RegExp("^"+String(n).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=t}()},function(e,t,n){"use strict";t.__esModule=!0;var r=n(131);t.default=r.Bus},,,function(e,t,n){e.exports={default:n(88),__esModule:!0}},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ProxyProvider=void 0;var o=n(50),i=r(o),s=n(73),a=r(s),c=n(14),u=r(c),f=n(31),l=(r(f),n(19)),d=n(5)("vvc-bus");t.ProxyProvider=function(){function e(t,n,r,o){var i=this;(0,u.default)(this,e);var s=function(e){i[e]=function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return d.debug("ProxyProvider","calling remote method "+t+"."+e),r.postRequest(t,e,o)}};if(n.emitter&&(this._listeners={},this.addEventListener=this.on=function(e,n){n&&(n._id=r.registerEventHandler(n),i._listeners[e]||(i._listeners[e]={}),i._listeners[e][n._id]=n,r.postRequest(r.id,"emitter_on",[t,e,n._id]))},this.once=function(e,n){if(n){var o=i,s=function t(){delete o._listeners[e][t._id],n.apply(this,arguments)};s._once=!0,s._id=r.registerEventHandler(s),i._listeners[e]||(i._listeners[e]={}),i._listeners[e][s._id]=s,r.postRequest(r.id,"emitter_once",[t,e,s._id])}},this.removeAllListeners=function(e){var t=function(e){for(var t in i._listeners[e])i.removeListener(e,i._listeners[e][t]);delete i._listeners[e]};if(e)t(e);else for(var n in i._listeners)t(n)},this.removeListener=function(e,n){n&&n._id&&i._listeners[e]&&(delete i._listeners[e][n._id],r.postRequest(r.id,"emitter_remove",[t,e,n._id]))}),n&&n.methods)for(var a=0;a<n.methods.length;a++)this[n.methods[a]]||s(n.methods[a]);this._id=function(){return t},this._description=function(){return n},this._source=function(){return r},this._distance=function(){return o||0},this._release=function(){}}return e.describe=function(t){var n={constructor:!0,hasOwnProperty:!0,toString:!0,toLocaleString:!0,valueOf:!0,isPrototypeOf:!0,propertyIsEnumerable:!0,__defineGetter__:!0,__lookupGetter__:!0,__defineSetter__:!0,__lookupSetter__:!0};if(e.isProxy(t))return t._description();var r={};for(var o in t)"function"!=typeof t[o]||n[o]||(r[o]=!0);for(var s,o=0,c=(0,a.default)(t.constructor.prototype);o<c.length;o++)s=c[o],"constructor"===s||"function"!=typeof t[s]||n[s]||(r[s]=!0);return{methods:(0,i.default)(r),emitter:e.isEmitter(t)}},e.isProxy=function(t){return t instanceof e},e.isEmitter=function(e){return e instanceof l.EventEmitter},e}()},,function(e,t,n){e.exports={default:n(87),__esModule:!0}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){e.exports={default:n(92),__esModule:!0}},function(e,t,n){e.exports={default:n(93),__esModule:!0}},function(e,t,n){(function(t){var r=n(1),o=r.JSON||(r.JSON={stringify:t.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}}).call(t,n(3))},function(e,t,n){n(120);var r=n(1).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(121);var r=n(1).Object;e.exports=function(e){return r.getOwnPropertyNames(e)}},function(e,t,n){n(122),e.exports=n(1).Object.keys},function(e,t,n){n(123),e.exports=n(1).Object.setPrototypeOf},function(e,t,n){n(66),n(67),n(68),n(124),e.exports=n(1).Promise},function(e,t,n){n(125),n(66),
n(126),n(127),e.exports=n(1).Symbol},function(e,t,n){n(67),n(68),e.exports=n(46).f("iterator")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(12),o=n(64),i=n(117);e.exports=function(e){return function(t,n,s){var a,c=r(t),u=o(c.length),f=i(s,u);if(e&&n!=n){for(;u>f;)if(a=c[f++],a!=a)return!0}else for(;u>f;f++)if((e||f in c)&&c[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(24),o=n(59),i=n(40);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var s,a=n(e),c=i.f,u=0;a.length>u;)c.call(e,s=a[u++])&&t.push(s);return t}},function(e,t,n){var r=n(21),o=n(103),i=n(101),s=n(7),a=n(64),c=n(118),u={},f={},t=e.exports=function(e,t,n,l,d){var p,v,h,m,g=d?function(){return e}:c(e),y=r(n,l,t?2:1),w=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(p=a(e.length);p>w;w++)if(m=t?y(s(v=e[w])[0],v[1]):y(e[w]),m===u||m===f)return m}else for(h=g.call(e);!(v=h.next()).done;)if(m=o(h,y,v.value,t),m===u||m===f)return m};t.BREAK=u,t.RETURN=f},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(23),o=n(2)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(20);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(7);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){"use strict";var r=n(39),o=n(27),i=n(28),s={};n(10)(s,n(2)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(2)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(24),o=n(12);e.exports=function(e,t){for(var n,i=o(e),s=r(i),a=s.length,c=0;a>c;)if(i[n=s[c++]]===t)return n}},function(e,t,n){var r=n(29)("meta"),o=n(16),i=n(9),s=n(11).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(22)(function(){return c(Object.preventExtensions({}))}),f=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},l=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";f(e)}return e[r].i},d=function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;f(e)}return e[r].w},p=function(e){return u&&v.NEED&&c(e)&&!i(e,r)&&f(e),e},v=e.exports={KEY:r,NEED:!1,fastKey:l,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(4),o=n(63).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(20)(s);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(i){var f=!0,l=document.createTextNode("");new i(u).observe(l,{characterData:!0}),n=function(){l.data=f=!f}}else if(a&&a.resolve){var d=a.resolve();n=function(){d.then(u)}}else n=function(){o.call(r,u)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(11),o=n(7),i=n(24);e.exports=n(8)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),a=s.length,c=0;a>c;)r.f(e,n=s[c++],t[n]);return e}},function(e,t,n){var r=n(9),o=n(65),i=n(41)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){var r=n(16),o=n(7),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(21)(Function.call,n(56).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){"use strict";var r=n(4),o=n(1),i=n(11),s=n(8),a=n(2)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(7),o=n(35),i=n(2)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[i])?t:o(n)}},function(e,t,n){var r=n(43),o=n(36);e.exports=function(e){return function(t,n){var i,s,a=String(o(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(i=a.charCodeAt(c),i<55296||i>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):i:e?a.slice(c,c+2):(i-55296<<10)+(s-56320)+65536)}}},function(e,t,n){var r=n(43),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(52),o=n(2)("iterator"),i=n(23);e.exports=n(1).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(94),o=n(106),i=n(23),s=n(12);e.exports=n(55)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(15);r(r.S,"Object",{create:n(39)})},function(e,t,n){n(61)("getOwnPropertyNames",function(){return n(57).f})},function(e,t,n){var r=n(65),o=n(24);n(61)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(15);r(r.S,"Object",{setPrototypeOf:n(113).set})},function(e,t,n){"use strict";var r,o,i,s=n(26),a=n(4),c=n(21),u=n(52),f=n(15),l=n(16),d=n(35),p=n(95),v=n(98),h=n(115),m=n(63).set,g=n(109)(),y="Promise",w=a.TypeError,_=a.process,b=a[y],_=a.process,x="process"==u(_),S=function(){},E=!!function(){try{var e=b.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(S,S)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(e){}}(),k=function(e,t){return e===t||e===b&&t===i},T=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t},O=function(e){return k(b,e)?new j(e):new o(e)},j=o=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw w("Bad Promise constructor");t=e,n=r}),this.resolve=d(t),this.reject=d(n)},M=function(e){try{e()}catch(e){return{error:e}}},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,o=1==e._s,i=0,s=function(t){var n,i,s=o?t.ok:t.fail,a=t.resolve,c=t.reject,u=t.domain;try{s?(o||(2==e._h&&L(e),e._h=1),s===!0?n=r:(u&&u.enter(),n=s(r),u&&u.exit()),n===t.promise?c(w("Promise-chain cycle")):(i=T(n))?i.call(n,a,c):a(n)):c(r)}catch(e){c(e)}};n.length>i;)s(n[i++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){m.call(a,function(){var t,n,r,o=e._v;if(C(e)&&(t=M(function(){x?_.emit("unhandledRejection",o,e):(n=a.onunhandledrejection)?n({promise:e,reason:o}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=x||C(e)?2:1),e._a=void 0,t)throw t.error})},C=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!C(t.promise))return!1;return!0},L=function(e){m.call(a,function(){var t;x?_.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},V=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=T(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,c(N,r,1),c(V,r,1))}catch(e){V.call(r,e)}}):(n._v=e,n._s=1,P(n,!1))}catch(e){V.call({_w:n,_d:!1},e)}}};E||(b=function(e){p(this,b,y,"_h"),d(e),r.call(this);try{e(c(N,this,1),c(V,this,1))}catch(e){V.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(112)(b.prototype,{then:function(e,t){var n=O(h(this,b));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=x?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),j=function(){var e=new r;this.promise=e,this.resolve=c(N,e,1),this.reject=c(V,e,1)}),f(f.G+f.W+f.F*!E,{Promise:b}),n(28)(b,y),n(114)(y),i=n(1)[y],f(f.S+f.F*!E,y,{reject:function(e){var t=O(this),n=t.reject;return n(e),t.promise}}),f(f.S+f.F*(s||!E),y,{resolve:function(e){if(e instanceof b&&k(e.constructor,this))return e;var t=O(this),n=t.resolve;return n(e),t.promise}}),f(f.S+f.F*!(E&&n(105)(function(e){b.all(e).catch(S)})),y,{all:function(e){var t=this,n=O(t),r=n.resolve,o=n.reject,i=M(function(){var n=[],i=0,s=1;v(e,!1,function(e){var a=i++,c=!1;n.push(void 0),s++,t.resolve(e).then(function(e){c||(c=!0,n[a]=e,--s||r(n))},o)}),--s||r(n)});return i&&o(i.error),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,o=M(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},function(e,t,n){"use strict";var r=n(4),o=n(9),i=n(8),s=n(15),a=n(62),c=n(108).KEY,u=n(22),f=n(42),l=n(28),d=n(29),p=n(2),v=n(46),h=n(45),m=n(107),g=n(97),y=n(102),w=n(7),_=n(12),b=n(44),x=n(27),S=n(39),E=n(57),k=n(56),T=n(11),O=n(24),j=k.f,M=T.f,P=E.f,R=r.Symbol,C=r.JSON,L=C&&C.stringify,V="prototype",N=p("_hidden"),A=p("toPrimitive"),D={}.propertyIsEnumerable,q=f("symbol-registry"),I=f("symbols"),U=f("op-symbols"),z=Object[V],F="function"==typeof R,B=r.QObject,J=!B||!B[V]||!B[V].findChild,H=i&&u(function(){return 7!=S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=j(z,t);r&&delete z[t],M(e,t,n),r&&e!==z&&M(z,t,r)}:M,G=function(e){var t=I[e]=S(R[V]);return t._k=e,t},W=F&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},$=function(e,t,n){return e===z&&$(U,t,n),w(e),t=b(t,!0),w(n),o(I,t)?(n.enumerable?(o(e,N)&&e[N][t]&&(e[N][t]=!1),n=S(n,{enumerable:x(0,!1)})):(o(e,N)||M(e,N,x(1,{})),e[N][t]=!0),H(e,t,n)):M(e,t,n)},K=function(e,t){w(e);for(var n,r=g(t=_(t)),o=0,i=r.length;i>o;)$(e,n=r[o++],t[n]);return e},Y=function(e,t){return void 0===t?S(e):K(S(e),t)},Z=function(e){var t=D.call(this,e=b(e,!0));return!(this===z&&o(I,e)&&!o(U,e))&&(!(t||!o(this,e)||!o(I,e)||o(this,N)&&this[N][e])||t)},Q=function(e,t){if(e=_(e),t=b(t,!0),e!==z||!o(I,t)||o(U,t)){var n=j(e,t);return!n||!o(I,t)||o(e,N)&&e[N][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=P(_(e)),r=[],i=0;n.length>i;)o(I,t=n[i++])||t==N||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===z,r=P(n?U:_(e)),i=[],s=0;r.length>s;)!o(I,t=r[s++])||n&&!o(z,t)||i.push(I[t]);return i};F||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(U,n),o(this,N)&&o(this[N],e)&&(this[N][e]=!1),H(this,e,x(1,n))};return i&&J&&H(z,e,{configurable:!0,set:t}),G(e)},a(R[V],"toString",function(){return this._k}),k.f=Q,T.f=$,n(58).f=E.f=X,n(40).f=Z,n(59).f=ee,i&&!n(26)&&a(z,"propertyIsEnumerable",Z,!0),v.f=function(e){return G(p(e))}),s(s.G+s.W+s.F*!F,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var te=O(p.store),ne=0;te.length>ne;)h(te[ne++]);s(s.S+s.F*!F,"Symbol",{for:function(e){return o(q,e+="")?q[e]:q[e]=R(e)},keyFor:function(e){if(W(e))return m(q,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),s(s.S+s.F*!F,"Object",{create:Y,defineProperty:$,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:ee}),C&&s(s.S+s.F*(!F||u(function(){var e=R();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!W(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,L.apply(C,r)}}}),R[V][A]||n(10)(R[V],A,R[V].valueOf),l(R,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){n(45)("asyncIterator")},function(e,t,n){n(45)("observable")},,function(e,t,n){(function(r,o){function i(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function u(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof o&&"env"in o&&(e=o.env.DEBUG),e}function f(){try{return window.localStorage}catch(e){}}t=e.exports=n(130),t.log=a,t.formatArgs=s,t.save=c,t.load=u,t.useColors=i,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:f(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return r.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(u())}).call(t,n(3),n(49))},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(u||r);e.diff=o,e.prev=u,e.curr=r,u=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;a++;var o=t.formatters[r];if("function"==typeof o){var s=i[a];n=o.call(e,s),i.splice(a,1),a--}return n}),t.formatArgs.call(e,i);var c=n.log||t.log||console.log.bind(console);c.apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function a(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=c,t.disable=s,t.enable=i,t.enabled=a,t.humanize=n(133),t.names=[],t.skips=[],t.formatters={};var u},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t[e]=n}function i(e,t,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t[e]=n}t.__esModule=!0,t.Bus=void 0;var s=n(6),a=r(s),c=n(13),u=r(c),f=n(14),l=r(f),d=n(33),p=r(d),v=n(32),h=r(v),m=n(31),g=r(m),y=n(19),w=n(132),_=n(80),b=1e3,x=12e5/b,S=n(5)("vvc-bus"),E=function(t){function n(e){(0,l.default)(this,n);var r=(0,p.default)(this,t.call(this));return r.id=g.default.v4(),r.domain=e,r.services={},r.requests={},r.remotes={},r}return(0,h.default)(n,t),n.prototype.start=function(){this.startMessageHandler(),this.initProbes()},n.prototype.release=function(){this.probeTimer&&(this.clearInterval(this.probeTimer),delete this.probeTimer),this.removeAllListeners(),this.stopMessageHandler()},n.prototype.startMessageHandler=function(){var t=this;this.messageHandler=function(n){try{if(n&&n.data){var r;r="string"==typeof n.data?e.parse(n.data):n.data,r&&r.vvc&&r.from&&r.from!==t.id&&(r.domain===t.domain||"*"===r.domain)&&t.handleMessage(t.getRemote(r.from,n.source),r)}}catch(e){S.error("bad message",n,e)}},o("message",window,this.messageHandler)},n.prototype.stopMessageHandler=function(){i("message",window,this.messageHandler),delete this.messageHandler},n.prototype.initProbes=function(){var e=this;this.probeList=[];var t=function t(n){try{n.self!==window.self&&e.addToProbeList(n)}catch(e){}try{n.parent!==n.self&&t(n.parent)}catch(e){}try{n.opener&&t(n.opener)}catch(e){}};t(window),this.probeTimer=this.setInterval(function(){e.probeRemotes()},b),this.probeRemote(window),this.probeRemotes()},n.prototype.addToProbeList=function(e){for(var t=0,n=!1;!n&&t<this.probeList.length;t++)n=this.probeList[t].window===e;n||this.probeList.push({window:e,probes:0})},n.prototype.moveToProbeList=function(e){for(var t=0,n=!1;!n&&t<this.probeList.length;t++)n=this.probeList[t].window===e.target;e.state="new",n||this.probeList.push({window:e.target,probes:0,remote:e}),this.deleteRemote(e.id)},n.prototype.probeRemote=function(e){this.postMessage(e,{type:"request",code:"ping"})},n.prototype.probeRemotes=function(){for(var e,t,n,r=[],o=0;o<this.probeList.length;o++)if(t=this.probeList[o],t.window&&!t.window.closed){n=!1;for(e in this.remotes)n=n||this.remotes[e].sameTarget(t.window);n||(this.probeRemote(t.window),++t.probes<x&&r.push(t))}this.probeList=r},n.prototype.getRemote=function(e,t){var n=this.remotes[e]||this.restoreRemote(e)||this.createRemote(e,t);return n.touch(),n},n.prototype.restoreRemote=function(e){for(var t=0;t<this.probeList.length;t++)if(this.probeList[t].remote&&this.probeList[t].remote.id===e)return this.probeList[t].remote},n.prototype.createRemote=function(e,t){return S.log("Bus.createRemote",e,t),this.remotes[e]=new w.Remote(e,t,this),this.remotes[e]},n.prototype.deleteRemote=function(e){var t=this.remotes[e];if(t){for(var n in t.services)this.unregisterService(n,t);delete this.remotes[e]}else S.error("Bus.deleteRemote","unknown remote",e)},n.prototype.handleMessage=function(e,t){switch(S.debug("Bus.handleMessage",t),t.type){case"request":this.handleRequest(e,t);break;case"response":this.handleResponse(e,t);break;case"event":this.handleEvent(e,t);break;default:S.error("Bus.handleMessage","bad message",t)}},n.prototype.handleRequest=function(e,t){var n=this,r=void 0,o=void 0;if(t.args=t.args?this.deserializeValues(e,t.args):[],e.proxied[t.to])o=e.proxied[t.to],o[t.code]?r=u.default.resolve(o[t.code].apply(o,t.args)):(S.error("Bus.handleRequest","bad request code",t),r=u.default.reject(new Error("unsupported_method")));else if("ping"===t.code)r=u.default.resolve(this.handlePing(e,t));else if(t.to===this.id)switch(t.code){case"list_services":r=u.default.resolve(this.handleListServices(e,t));break;case"register_service":r=u.default.resolve(this.handleRegisterService(e,t));break;case"unregister_service":r=u.default.resolve(this.handleUnregisterService(e,t));break;case"emitter_on":r=u.default.resolve(this.handleEmitterOn(e,t));break;case"emitter_once":r=u.default.resolve(this.handleEmitterOnce(e,t));break;case"emitter_remove":r=u.default.resolve(this.handleEmitterRemove(e,t));break;default:S.error("Bus.handleRequest","bad request code",t),r=u.default.reject(new Error("unsupported_method"))}else this.services[t.to]&&this.services[t.to][t.code]?(o=this.services[t.to],r=u.default.resolve(o[t.code].apply(o,t.args))):(S.error("Bus.handleRequest","unknown service/method",t),r=u.default.reject(new Error("unsupported_service_method")));t.ref&&r.then(function(r){n.postMessage(e,{ref:t.ref,type:"response",data:n.serializeValue(e,r)})},function(r){n.postMessage(e,{ref:t.ref,type:"response",error:n.serializeValue(e,r.message||r)})})},n.prototype.handleResponse=function(e,t){this.requests[t.ref]?(t.error=t.error?this.deserializeValue(e,t.error):null,t.data=t.data?this.deserializeValue(e,t.data):null,this.requests[t.ref](t.error,t.data),delete this.requests[t.ref]):S.error("invalid/unknown response",t)},n.prototype.handleEvent=function(e,t){e.events[t.code]?e.events[t.code].apply(this,t.args?this.deserializeValues(e,t.args):[]):S.error("invalid/unknown event",t)},n.prototype.handlePing=function(e,t){var n=this;return"new"===e.state&&(e.state="init",this.postRequest(e,e.id,"list_services",null,2e3).then(function(t){for(var r in t)n.doRegisterRemoteService(r,t[r].description,e,t[r].distance);e.state="ready"},function(t){S.error("Bus.handlePing","failed to init remote",t),n.deleteRemote(e.id)})),!0},n.prototype.handleListServices=function(e,t){var n=this;return new u.default(function(e,t){var r,o={};for(var i in n.services)r=n.services[i],o[i]={description:_.ProxyProvider.describe(r),distance:n.getProviderDistance(r)};e(o)})},n.prototype.handleRegisterService=function(e,t){var n=this;return new u.default(function(r,o){if(!t.args||t.args.length<2)o(new Error("bad_args"));else{var i=t.args[0],s=t.args[1],a=t.args[2];s&&s.methods&&s.methods.length&&(S.log("Bus.handleRequest","adding proxy service"),n.doRegisterRemoteService(i,s,e,a)),r(!0)}})},n.prototype.doRegisterRemoteService=function(e,t,n,r){S.log("Bus.handleRequest","adding proxy service",e);var o=new _.ProxyProvider(e,t,n,r+1),i=!this.services[e];this.registerService(e,o),i&&(this.emit("added",e,o),this.emit("added."+e,o))},n.prototype.handleUnregisterService=function(e,t){var n=this;return new u.default(function(r,o){if(!t.args||t.args.length<1)o(new Error("bad_args"));else{var i=t.args[0];n.unregisterService(i,e),n.services[i]||(n.emit("removed",i),n.emit("removed."+i)),r(!0)}})},n.prototype.handleEmitterOn=function(e,t){var n=t.args[0],r=e.proxied[n];if(!(r&&r instanceof y.EventEmitter))return!1;var o=t.args[1],i=t.args[2],s=this.deserializeValue(e,{t:"f",d:i});return s.id=i,e.listeners[i]={target:n,event:o,listener:s},r.on(o,s),!0},n.prototype.handleEmitterOnce=function(e,t){var n=t.args[0],r=e.proxied[n];if(!(r&&r instanceof y.EventEmitter))return!1;var o=t.args[1],i=t.args[2],s=this.deserializeValue(e,{t:"f",d:i}),a=function(){delete e.listeners[i],s.apply(this,arguments)};return a.id=i,e.listeners[i]={target:n,event:o,listener:a},r.once(o,a),!0},n.prototype.handleEmitterRemove=function(e,t){var n=t.args[0],r=e.proxied[n];if(!(r&&r instanceof y.EventEmitter))return!1;var o=t.args[1],i=t.args[2],s=e.listeners[i];return!!s&&(r.removeListener(o,s.listener),delete e.listeners[i],!0)},n.prototype.getClosestProvider=function(e){var t=void 0,n=void 0;for(var r in this.remotes){var o=this.remotes[r].services[e],i=this.getProviderDistance(o);o&&(void 0===t||i<t)&&(t=i,n=this.remotes[r])}return n},n.prototype.getProviderDistance=function(e){return _.ProxyProvider.isProxy(e)?e._distance?e._distance():1:0},n.prototype.registerService=function(e,t){if(this.services[e]&&0===this.getProviderDistance(this.services[e]));else{var n=!1,r=_.ProxyProvider.isProxy(t)?t._source():null,o=this.getProviderDistance(t);if(r){r.services[e]=t;var i=this.getClosestProvider(e);i===r&&(n=!0,this.services[e]=t)}else n=!0,this.services[e]=t;if(n){var s=_.ProxyProvider.describe(t);for(var a in this.remotes)r!=this.remotes[a]&&this.postRequest(this.remotes[a],a,"register_service",[e,s,o])}}},n.prototype.unregisterService=function(e,t){t&&delete t.services[e];var n=this.getClosestProvider(e);if(n)n.services[e]!==this.services[e]&&this.registerService(e,n.services[e]);else{for(var r in this.remotes)t!=this.remotes[r]&&this.postRequest(this.remotes[r],r,"unregister_service",[e]);delete this.services[e]}},n.prototype.postMessage=function(e,t){t.vvc=!0,t.from=this.id,t.domain=this.domain,S.debug("Bus.postMessage",t),(0,w.safePostMessage)(e,t)},n.prototype.postRequest=function(e,t,n,r,o){var i=this,s=g.default.v4(),a={ref:s,to:t,type:"request",code:n,args:this.serializeValues(e,r)};return new u.default(function(t,n){var r=null;o&&(r=i.setTimeout(function(){delete i.requests[s],n(new Error("timeout"))},o)),i.requests[s]=function(e,o){r&&i.clearTimeout(r),delete i.requests[s],e?n(e):t(o)},i.postMessage(e,a)})},n.prototype.serializeValue=function(e,t){if("undefined"==typeof t||null===t)return null;switch("undefined"==typeof t?"undefined":(0,a.default)(t)){case"function":return{t:"f",d:e.registerEventHandler(t)};case"object":if(t._proxable||_.ProxyProvider.isProxy(t)){var n=g.default.v4();return e.proxied[n]=t,{t:"p",d:{id:n,description:_.ProxyProvider.describe(t)}}}return{t:"o",d:t};default:return{t:"s",d:t}}},n.prototype.serializeValues=function(e,t){for(var n=[],r=0;t&&r<t.length;r++)n.push(this.serializeValue(e,t[r]));return n},n.prototype.deserializeValue=function(e,t){var n=this;if(!t)return null;switch(t.t){case"s":return t.d;case"o":return t.d;case"p":return new _.ProxyProvider(t.d.id,t.d.description,e);case"f":return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];n.postMessage(e,{type:"event",code:t.d,args:n.serializeValues(e,o)})}}},n.prototype.deserializeValues=function(e,t){for(var n=[],r=0;t&&r<t.length;r++)n.push(this.deserializeValue(e,t[r]));return n},n.prototype.setTimeout=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return setTimeout(e,t)}),n.prototype.clearTimeout=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return clearTimeout(e)}),n.prototype.setInterval=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return setInterval(e,t)}),n.prototype.clearInterval=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return clearInterval(e)}),n.prototype.oncecb=function(e){return e._once=!0,e},n.prototype.request=function(e,t){var n=this,r=arguments;return new u.default(function(o,i){var s=n.services[e];if(s)if(s[t]){var a=Array.prototype.slice.call(r,2);o(s[t].apply(s,a))}else i(new Error("unsupported_type "+t));else i(new Error("unknown_service "+e))})},n}(y.EventEmitter);t.Bus=E}).call(t,n(3))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){e.postMessage(p?t:(0,c.default)(t),"*")}t.__esModule=!0,t.Remote=void 0;var i=n(14),s=r(i),a=n(17),c=r(a);t.safePostMessage=o;var u=n(31),f=r(u),l=1e3,d=n(5)("vvc-bus"),p=function(){if("undefined"==typeof document)return!0;var e=3;if(document.documentMode)e=document.documentMode;else for(var t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];);return e<5||e>9}();t.Remote=function(){function e(t,n,r){var o=this;(0,s.default)(this,e),this.id=t,this.target=n,this.bus=r,this.services={},this.proxied={},this.events={},this.listeners={},this.pingNum=0,this.pingSendTimeout=function(){r.postRequest(o.target,o.id,"ping",[o.pingNum++]),o.resetPingSendTimer()},this.pingRecvTimeout=function(){d.error("Remote.pingRecvTimeout",o.id),o.pingSendTimer&&o.bus.clearTimeout(o.pingSendTimer),r.moveToProbeList(o)},this.state="new"}return e.prototype.postMessage=function(e,t){try{this.resetPingSendTimer(),this.target.postMessage(e,t||"*")}catch(n){d.error("postMessage failed",e,t),d.error(n)}},e.prototype.postRequest=function(e,t,n){return this.bus.postRequest(this,e,t,n)},e.prototype.resetPingSendTimer=function(){this.pingSendTimer&&this.bus.clearTimeout(this.pingSendTimer);var e=Math.round(l+Math.random()*l);this.pingSendTimer=this.bus.setTimeout(this.pingSendTimeout.bind(this),e)},e.prototype.touch=function(){this.pingRecvTimer&&this.bus.clearTimeout(this.pingRecvTimer),this.bus.debug||(this.pingRecvTimer=this.bus.setTimeout(this.pingRecvTimeout.bind(this),5*l))},e.prototype.sameTarget=function(e){return e===this.target},e.prototype.registerEventHandler=function(e){var t=f.default.v4();if(e._once){var n=this;this.events[t]=function(){return delete n.events[t],e.apply(this,arguments)}}else this.events[t]=e;return t},e.prototype.unregisterEventHandler=function(e){delete this.events[e]},e}()},function(e,t,n){(function(t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return i(e,u,"day")||i(e,c,"hour")||i(e,a,"minute")||i(e,s,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,f=365.25*u;e.exports=function(e,i){i=i||{};var s=typeof e;if("string"===s&&e.length>0)return n(e);if("number"===s&&isNaN(e)===!1)return i.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+t.stringify(e))}}).call(t,n(3))},function(e,t){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,function(){return this}())},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e,r=document.createElement("script");return t&&(n=e+(n.indexOf("?")!==-1?"&":"?")+"_="+f.config.ajv),r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=n,document.getElementsByTagName("head")[0].appendChild(r),r}function i(e){function t(){return f.getVVC().then(function(e){var t=document,n=window.location,r=window.screen,o={vvcu:e.vvcu,vvct:e.vvct,tpcs:h,lstr:m,kk:f.config.acct_id,dt:t.title,dr:t.referrer,cs:t.characterSet,hn:n.hostname,pn:n.pathname,ul:String("Netscape"===navigator.appName?navigator.language:navigator.browserLanguage),sr:r.width+"x"+r.height+"-"+r.availWidth+"x"+r.availHeight,sc:r.colorDepth,r:location.href,__:(new Date).getTime()+"_"+Math.round(2147483647*Math.random())};return f.bus.request("dataframe","setData","lp",o),o})}f.hostedByVVC?f.nodeify(f.bus.request("dataframe","getData","lp").then(function(e){return e?e:t()}),e):f.nodeify(t(),e)}var s=n(13),a=r(s),c=n(70),u=r(c),f=e.exports=n(18),l=navigator.doNotTrack,d="undefined"!=typeof window.vvc_options?window.vvc_options:{},p=(d.secure?"https:":"",[]),v=[],h=!0,m=!0;f.getScript=o,
f.probeCaps=function(){var e=f.probeBaseCaps();return e},f.track=function(e,t){f.console.info(e,t);try{f.events&&f.events.emit("log",e,t),i(function(n,r){var o=f.param(f.extend({ev:e||"0",ex:t||""},r)),i=new Image;i.src=f.config.gifurl+"?"+o,p.push(i)})}catch(e){f.console.error(e)}},f.updateConfig=function(e){f.extend(f.config,e);try{f.dot(f,"config.duration.vvcu")&&f.setVVCUDuration(parseInt(f.config.duration.vvcu,10)),f.dot(f,"config.duration.vvct")&&f.setVVCTDuration(parseInt(f.config.duration.vvct,10))}catch(e){f.console.error(e)}},f.getConfig=function(){return f.config},f.loadService=function(e){function t(t){var n=(e?"id="+e+"&":"")+("r="+encodeURIComponent(location.href))+(t?"&"+t:"&_="+(new Date).getTime()+"_"+Math.round(2147483647*Math.random()));o(f.config.apiurl+"service.js?"+n)}f.firstServiceLoad?t():l?t(f.param({upd:1})):i(function(e,n){t(f.param(f.extend({ev:"0",ex:""},n)))}),f.firstServiceLoad=!0},f.addServices=function(e){n.e(0,function(){n.e(7,function(t){n(71),f.startServices(e)})})};var g=0;f.newReady=function(){var e=n(34).then(function(){function e(t){return t.getVVC().then(function(r){if((!r.lstr||!r.tpcs)&&++g<3)return h=r.tpcs,m=r.lstr,f.console.warn("using local cookies"),n(154),e(f.bus.services.dataframe);if(r.lstr&&r.tpcs){f.console.log("got dataframe service provider");for(var o=["getVVCU","getVVCT","getVVC","setVVCUDuration","setVVCTDuration"],i=0;i<o.length;i++)"function"==typeof t[o[i]]&&(f[o[i]]=t[o[i]]);return"function"==typeof t.cookie&&(f.rcookie=t.cookie),window.vivochaRegisterStop||f.bus.registerService("vivocha",f),f}f.console.warn("vivocha is unable to store cookies")})}function t(){return f.console.log("creating dataframe"),new a.default(function(t,n){function r(){o||(o=!0,f.getDataFrame(function(n){f.console.log("got dataframe ready"),f.bus.services.dataframe?t(e(f.bus.services.dataframe)):f.bus.on("added.dataframe",function(n){t(e(n))})}))}var o,i;"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(r,1):i||(document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("onload",r)),i=!0)})}return f.bus=new u.default("vvcu@"+f.config.acct_id),f.bus.start(),f.bus.services.dataframe?(f.console.log("using dataframe from bus"),e(f.bus.services.dataframe)):window.opener||window!=parent?(f.console.log("waiting for parent/opener dataframe"),new a.default(function(n,r){var o=setTimeout(function(){f.console.log("timeout on dataframe"),f.bus.services.dataframe?(f.console.log("using dataframe from bus timeout"),n(e(f.bus.services.dataframe))):n(t())},2e3);f.bus.on("added.dataframe",function(t){f.console.log("using dataframe from bus event"),clearTimeout(o),n(e(t))})})):t()});return function(){return e}}(),f.legacyReady=function(){var e=f.newReady().then(function(){return new a.default(function(e,t){n.e(0,function(){n.e(7,function(){n.e(18,function(){n(71),n(163),e(f)})})})})});return function(t){f.nodeify(e,t)}}(),f.ready=function(e){return"function"!=typeof e?f.newReady():void(e._new?f.nodeify(f.newReady(),e):f.legacyReady(e))},f.getDataFrame=function(e){if(f.dataFrame)e(f.dataFrame);else{v.push(e);var t=document.getElementById("vivocha_data");if(!t){var n=function(){for(f.dataFrame=t;v.length;)try{var e=v.shift();"function"==typeof e&&e(t)}catch(e){f.console.error("Error on dataframe ready callback",e)}};t=document.createElement("iframe"),t.id="vivocha_data",t.frameBorder="no",t.allowTransparency="true",t.style.margin=0,t.style.padding=0,t.style.top=0,t.style.left=0,t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.border="none",t.style.visibility="hidden",t.attachEvent?t.attachEvent("onload",n):t.onload=n,t.src=f.config.sapiurl+"dataframe/",(f.scriptParentNode||document.body).appendChild(t)}}},function(){var e=[];f.events={on:function(){e.push(arguments)}},f.flushEventHandlers=function(){if(e.length)for(var t;t=e.shift();)f.events.on.apply(f.events,t)}}(),f.flushReadyHandlers()},,,,,,,,,,,,,function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(t=t||n.length,e)for(var o=0;o<e;o++)r[o]=n[0|Math.random()*t];else{var i;r[8]=r[13]=r[18]=r[23]="-",r[14]="4";for(var o=0;o<36;o++)r[o]||(i=0|16*Math.random(),r[o]=n[19==o?3&i|8:i])}return r.join("")}function o(e){var t=new Date;return t.getUTCFullYear()+(t.getUTCMonth()<9?"0":"")+(1+t.getUTCMonth())+(t.getUTCDate()<10?"0":"")+t.getUTCDate()+r(e)}function i(e,t){t||(t=2);var n=e.split("."),r=n.slice(-t++).join("."),s=o(16);m.cookie("vvctest",s,m.extend({},{domain:r}));var a=m.cookie("vvctest");return s===a?(h.log("tld",r),m.cookie("vvctest",null,m.extend({},{domain:r})),r):(h.log("invalid tld",r),t<=n.length?i(e,t):(h.log("no valid domain from",e),null))}var s,a=n(17),c=t(a),u=n(6),f=t(u),l=n(13),d=t(l),p=n(70),v=t(p),h=n(5)("vvc-data"),m=n(18),g="vvc",y=function(){return m.extend({expires:1095},b)},w=function(){return m.extend({expires:new Date(+new Date+18e5)},b)},_=0===location.pathname.indexOf("/a/"+m.config.acct_id+"/api/dataframe/"),b={domain:_?location.hostname.split(".").slice(-2).join("."):i(location.hostname),path:_?location.pathname.substring(0,location.pathname.indexOf("/",3)+1):"/"};h.log((_?"dataframe":"localpage")+" cookie options",b);var x=function(){var e=o(16);m.cookie("vvctest",e,w());var t=m.cookie("vvctest");return e!==t?(h.warn("cookie test failed"),!1):(m.cookie("vvctest",null,w()),!0)}(),S=function(){try{if(!localStorage)throw new Error("localStorage undefined")}catch(e){return h.warn("localStorage test failed"),!1}return!0}(),E={_proxable:!0,cookie:function(t,n,r){if("undefined"==typeof n&&"undefined"==typeof r){var o=m.cookie(t);try{o=e.parse(o)}catch(e){h.error(e)}return d.default.resolve(o)}return n&&"object"===("undefined"==typeof n?"undefined":(0,f.default)(n))&&(n=(0,c.default)(n)),r=m.extend(r,b),d.default.resolve(m.cookie(t,n,r))},setData:function(t,n){var r;try{if(!localStorage)throw new Error("localStorage not available");var o="string"==typeof localStorage.dataframe?e.parse(localStorage.dataframe):{};"object"!==("undefined"==typeof o?"undefined":(0,f.default)(o))&&(o={}),m.dot(o,t,n),localStorage.dataframe=(0,c.default)(o),r=n}catch(e){h.error(e)}return d.default.resolve(r)},getData:function(t){var n;try{localStorage&&localStorage.dataframe&&(n=m.dot(e.parse(localStorage.dataframe),t))}catch(e){h.error(e)}return d.default.resolve(n)},unsetData:function(t){try{if(localStorage){var n="string"==typeof localStorage.dataframe?e.parse(localStorage.dataframe):{};m.dot(n,t,void 0,!0),localStorage.dataframe=(0,c.default)(n)}}catch(e){h.error(e)}return d.default.resolve()},_getVVCU:function(){var e,t=s;if(!t){if(m.domain&&m.domain!=document.domain){h.info("there is a setted domain and is different from document.domain",m.domain,document.domain),e=m.cookie(g+"u"),h.info("old VVCU",e);var n=g+"u=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";h.log("resetstring",n),document.cookie=n,h.info("new VVCU",m.cookie(g+"u"))}t=m.cookie(g+"u"),t||(t=e||o(16)),m.vvcu=t}return m.cookie(g+"u",t,y()),t},_getVVCT:function(){var e,t;if(!m.vvct&&m.domain&&m.domain!=document.domain){h.info("there is a setted domain and is different from document.domain",m.domain,document.domain),t=m.cookie(g+"t"),h.info("old VVCT",t);var n=g+"t=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";h.log("resetstring",n),document.cookie=n,h.info("new VVCT",m.cookie(g+"t"))}return e=m.cookie(g+"t"),e||(e=t||o(16)),m.vvct=e,m.cookie(g+"t",e,w()),e},getVVCU:function(){return d.default.resolve(E._getVVCU())},getVVCT:function(){return d.default.resolve(E._getVVCT())},getVVC:function(){return d.default.resolve({tpcs:x,lstr:S,vvcu:E._getVVCU(),vvct:E._getVVCT()})},setVVCUDuration:function(e){return y=e===-1?function(){return m.extend({},b)}:function(){return m.extend({expires:new Date(+new Date+1e3*e)},b)},d.default.resolve(E.getVVCU())},setVVCTDuration:function(e){return w=e===-1?function(){return m.extend({},b)}:function(){return m.extend({expires:new Date(+new Date+1e3*e)},b)},d.default.resolve(E.getVVCT())}};m.bus?m.bus.registerService("dataframe",E):n(34).then(function(){m.bus=new v.default("vvcu@"+m.config.acct_id),m.bus.start(),m.bus.registerService("dataframe",E)})}).call(t,n(3))}]);
//# sourceMappingURL=vivocha_user.js.map